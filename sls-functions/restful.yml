getUser:
    handler: src/users/handlers/get.handle
    name: get-user
    memorySize: 128
    timeout: 5
    events:
        - http:
              path: users/{userId}
              method: GET

    iamRoleStatements:
        - Effect: "Allow"
          Action:
              - "dynamodb:GetItem"
          Resource: !GetAtt UsersTable.Arn
createUser:
    handler: src/users/handlers/create.handle
    name: create-user
    memorySize: 128
    timeout: 5
    events:
        - http:
              path: users
              method: POST

    iamRoleStatements:
        - Effect: "Allow"
          Action:
              - "dynamodb:PutItem"
          Resource: !GetAtt UsersTable.Arn
listUser:
    handler: src/users/handlers/list.handle
    name: list-user
    memorySize: 128
    timeout: 5
    events:
        - http:
              path: users
              method: GET
    iamRoleStatements:
        - Effect: "Allow"
          Action:
              - "dynamodb:Scan"
          Resource: !GetAtt UsersTable.Arn
updatUser:
    handler: src/users/handlers/update.handle
    name: update-user
    memorySize: 128
    timeout: 5
    events:
        - http:
              path: users/{userId}
              method: PUT
    iamRoleStatements:
        - Effect: "Allow"
          Action:
              - "dynamodb:UpdateItem"
          Resource: !GetAtt UsersTable.Arn
